<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Comparison of Aggregation Methods – Food Systems Research Center</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../pages/indicator_correlations.html" rel="next">
<link href="../pages/indicator_distributions.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-84c4de9940dda03c3053f83edb5e97be.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="../site_libs/core-js-2.5.3/shim.min.js"></script>

<script src="../site_libs/react-18.2.0/react.min.js"></script>

<script src="../site_libs/react-18.2.0/react-dom.min.js"></script>

<script src="../site_libs/reactwidget-2.0.0/react-tools.js"></script>

<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="../site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">

<script src="../site_libs/reactable-binding-0.4.4/reactable.js"></script>



<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://www.uvm.edu/cals/food-systems-research" class="navbar-brand navbar-brand-logo">
    <img src="../images/uvm_logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="https://www.uvm.edu/cals/food-systems-research">
    <span class="navbar-title">Food Systems Research Center</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-tree"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.uvm.edu/cals/food-systems-research">
            FSRC
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.uvm.edu">
            UVM
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/Food-Systems-Research-Center/sm-docs">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/Food-Systems-Research-Center">
            FSRC GitHub
            </a>
          </li>
      </ul>
    </div>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">Comparison of Aggregation Methods</h1>
        </a>     
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/home.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/framework.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Indicator Refinement</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/refinement_process.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Process</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/refine_economics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Economics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/refine_environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Environment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/refine_production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Secondary Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/metadata_table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/metrics_table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metrics Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/sm-explorer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SM-Explorer</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Refined Framework</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/refined_framework.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Framework</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/metric_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metric Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/aggregation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aggregation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/indicator_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Indicator Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/comparison.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Comparisons</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/indicator_correlations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Indicator Correlations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Selection and Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Validation</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On This Page</h2>
   
  <ul>
  <li><a href="#min-max" id="toc-min-max" class="nav-link active" data-scroll-target="#min-max"><span class="header-section-number">1</span> Min Max</a>
  <ul>
  <li><a href="#arithmetic-table" id="toc-arithmetic-table" class="nav-link" data-scroll-target="#arithmetic-table"><span class="header-section-number">1.1</span> Arithmetic Table</a></li>
  <li><a href="#geometric-table" id="toc-geometric-table" class="nav-link" data-scroll-target="#geometric-table"><span class="header-section-number">1.2</span> Geometric Table</a></li>
  </ul></li>
  <li><a href="#z-scores" id="toc-z-scores" class="nav-link" data-scroll-target="#z-scores"><span class="header-section-number">2</span> Z-Scores</a>
  <ul>
  <li><a href="#arithmetic-table-1" id="toc-arithmetic-table-1" class="nav-link" data-scroll-target="#arithmetic-table-1"><span class="header-section-number">2.1</span> Arithmetic Table</a></li>
  <li><a href="#geometric-table-1" id="toc-geometric-table-1" class="nav-link" data-scroll-target="#geometric-table-1"><span class="header-section-number">2.2</span> Geometric Table</a></li>
  </ul></li>
  <li><a href="#box-cox" id="toc-box-cox" class="nav-link" data-scroll-target="#box-cox"><span class="header-section-number">3</span> Box Cox</a>
  <ul>
  <li><a href="#arithmetic-table-2" id="toc-arithmetic-table-2" class="nav-link" data-scroll-target="#arithmetic-table-2"><span class="header-section-number">3.1</span> Arithmetic Table</a></li>
  <li><a href="#geometric-table-2" id="toc-geometric-table-2" class="nav-link" data-scroll-target="#geometric-table-2"><span class="header-section-number">3.2</span> Geometric Table</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">4</span> References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Comparison of Aggregation Methods</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In the last page we created six sets of scores by state based on combinations of three normalization methods (z-scores, min max, box cox) and two aggregation methods (arithmetic, geometric). Here, we will explore differences between them in terms of state distributions and rankings.</p>
<p>Note that each set of spider plots are scaled to the minimum and maximum of any single state in that dimension, given the normalization and aggregation methods. This means in the case of min-max normalization, for example, raw metrics are scaled from 0 to 1, arithmetic and geometric means consolidate values to dimension scores, and these sets of dimension scores are scaled on the plot from the lowest to the highest value of any state. A “perfect” score here means that it is the best of any state. Plots show dimension values for Vermont in green. The dotted purple polygon behind it is the median of US states and DC. Arithmetic means are on the left, and geometric on the right.</p>
<p>Be aware that spider/radar charts can be hard to interpret, and sometimes misleading <a href="https://www.data-to-viz.com/caveat/spider.html">The Radar Chart and its Caveats</a>. The order of variables makes a big impact on the area of chart, and area is not a terribly reliable way to show differences, as it increases quadratically as variables increase linearly. Will explore some other ways to show this information, but using these for now as they are quite popular in the literature for sustainability metrics.</p>
<section id="min-max" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Min Max</h1>
<p>We are starting with min max normalization, which is probably the most intuitive transformation. Every metric is scaled from 0 to 1, so the lowest value from any state becomes 0, and the highest value from any state becomes 1. Indicators, indices, and dimensions are then aggregated using arithmetic or geometric means.</p>
<p>The transformation is easy to understand, but has some drawbacks, including being quite sensitive to outliers. Strong outliers in either direction could condense the rest of the distribution, making it seem like most states are very low or very high.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  tidyr,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  ggplot2,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  ggpubr,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  fmsb</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Load state score data</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">'data/state_score_iterations.rds'</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># get_str(dat)</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom function to create spider plots</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">get_vt_spiders</span>(dat, <span class="st">'minmax'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="comparison_files/figure-html/minmax_spider-1.png" class="img-fluid figure-img" width="2000"></p>
</figure>
</div>
</div>
</div>
<p>The difference in the production dimension between arithmetic and geometric averages suggests Vermont is scoring highly in some production, but low in others. Arithmetic means are fully compensable such that a high score in one area can fully make up for a low score in another. The geometric mean seems be applying quite a penalty to Vermont production here. In either case, Vermont comes out looking pretty good in terms of the health and social dimensions.</p>
<section id="arithmetic-table" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="arithmetic-table"><span class="header-section-number">1.1</span> Arithmetic Table</h2>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_reactable_scores</span>(dat, <span class="st">'minmax_arithmetic'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-eca6ee51c1420b131add" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-eca6ee51c1420b131add">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"state":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","US_mean","US_median","NewEng"],"economics":["0.263","0.389","0.337","0.282","0.562","0.315","0.431","0.276","0.470","0.348","0.297","0.404","0.247","0.371","0.199","0.373","0.329","0.237","0.296","0.339","0.283","0.500","0.207","0.344","0.279","0.295","0.329","0.362","0.427","0.330","0.307","0.341","0.413","0.212","0.337","0.261","0.284","0.358","0.244","0.501","0.241","0.346","0.207","0.396","0.261","0.290","0.260","0.388","0.231","0.289","0.382","0.327","0.329","0.399"],"environment":["0.386","0.331","0.269","0.358","0.559","0.351","0.363","0.339","0.401","0.356","0.410","0.363","0.416","0.431","0.429","0.402","0.390","0.379","0.373","0.368","0.411","0.369","0.410","0.433","0.364","0.397","0.441","0.343","0.224","0.402","0.338","0.287","0.408","0.432","0.207","0.373","0.406","0.504","0.393","0.362","0.371","0.295","0.395","0.446","0.263","0.379","0.433","0.534","0.368","0.383","0.403","0.381","0.383","0.374"],"health":["0.380","0.479","0.404","0.381","0.503","0.568","0.478","0.395","0.557","0.384","0.441","0.474","0.396","0.406","0.362","0.376","0.416","0.360","0.402","0.498","0.427","0.536","0.449","0.464","0.272","0.391","0.498","0.391","0.381","0.504","0.494","0.372","0.452","0.430","0.399","0.411","0.416","0.582","0.421","0.474","0.434","0.348","0.433","0.395","0.498","0.610","0.475","0.523","0.390","0.417","0.388","0.438","0.421","0.517"],"production":["0.229","0.109","0.249","0.259","0.672","0.211","0.134","0.128","0.191","0.397","0.342","0.181","0.254","0.281","0.169","0.214","0.356","0.177","0.275","0.173","0.162","0.131","0.238","0.234","0.200","0.237","0.284","0.255","0.102","0.054","0.271","0.213","0.268","0.251","0.290","0.187","0.243","0.308","0.250","0.115","0.231","0.257","0.193","0.574","0.136","0.069","0.177","0.337","0.023","0.222","0.120","0.228","0.229","0.113"],"social":["0.394","0.515","0.494","0.349","0.455","0.558","0.438","0.344","0.533","0.480","0.399","0.428","0.393","0.405","0.255","0.395","0.310","0.338","0.427","0.543","0.442","0.492","0.488","0.461","0.366","0.408","0.626","0.384","0.426","0.520","0.452","0.498","0.348","0.428","0.338","0.397","0.302","0.525","0.400","0.418","0.413","0.387","0.358","0.394","0.333","0.457","0.448","0.539","0.284","0.494","0.399","0.425","0.418","0.478"]},"columns":[{"id":"state","name":"state","type":"character"},{"id":"economics","name":"economics","type":"character"},{"id":"environment","name":"environment","type":"character"},{"id":"health","name":"health","type":"character"},{"id":"production","name":"production","type":"character"},{"id":"social","name":"social","type":"character"}],"resizable":true,"filterable":true,"searchable":true,"defaultPageSize":10,"showPageSizeOptions":true,"onClick":"select","highlight":true,"bordered":true,"striped":true,"compact":true,"style":{"fontSize":"14px"},"dataKey":"f73acc20ba9e295a8891e6271b147658"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="geometric-table" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="geometric-table"><span class="header-section-number">1.2</span> Geometric Table</h2>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_reactable_scores</span>(dat, <span class="st">'minmax_geometric'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-e359e80390867e33e7c6" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e359e80390867e33e7c6">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"state":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","US_mean","US_median","NewEng"],"economics":["0.138","0.159","0.142","0.153","0.398","0.235","0.206","0.164","0.395","0.184","0.202","0.278","0.180","0.245","0.103","0.180","0.190","0.156","0.166","0.188","0.201","0.238","0.153","0.212","0.145","0.185","0.226","0.150","0.205","0.184","0.227","0.248","0.295","0.147","0.288","0.184","0.168","0.257","0.196","0.330","0.173","0.261","0.145","0.264","0.176","0.157","0.207","0.275","0.190","0.185","0.235","0.207","0.190","0.217"],"environment":["0.217","0.210","0.154","0.230","0.409","0.256","0.205","0.218","0.358","0.245","0.281","0.215","0.275","0.322","0.329","0.276","0.289","0.260","0.270","0.174","0.259","0.222","0.329","0.344","0.217","0.327","0.275","0.260","0.288","0.188","0.200","0.169","0.334","0.338","0.146","0.285","0.337","0.345","0.294","0.136","0.244","0.210","0.298","0.344","0.157","0.215","0.332","0.372","0.201","0.291","0.256","0.263","0.260","0.190"],"health":["0.359","0.466","0.324","0.277","0.429","0.492","0.409","0.360","0.582","0.329","0.400","0.525","0.330","0.392","0.300","0.302","0.333","0.284","0.309","0.438","0.353","0.448","0.407","0.364","0.216","0.341","0.456","0.341","0.360","0.415","0.384","0.349","0.370","0.387","0.327","0.335","0.355","0.529","0.384","0.412","0.375","0.223","0.359","0.310","0.395","0.526","0.426","0.460","0.488","0.367","0.323","0.381","0.367","0.441"],"production":["0.080","0.330","0.104","0.110","0.468","0.118","0.064","0.026","0.124","0.226","0.220","0.066","0.121","0.140","0.093","0.126","0.173","0.113","0.146","0.066","0.081","0.058","0.151","0.146","0.089","0.172","0.134","0.108","0.051","0.016","0.105","0.075","0.137","0.165","0.142","0.103","0.100","0.145","0.136","0.019","0.107","0.100","0.104","0.439","0.048","0.032","0.099","0.205","0.036","0.120","0.036","0.125","0.108","0.042"],"social":["0.371","0.463","0.377","0.173","0.405","0.487","0.383","0.330","0.475","0.408","0.328","0.333","0.318","0.516","0.278","0.271","0.257","0.306","0.398","0.456","0.413","0.436","0.412","0.308","0.221","0.369","0.557","0.281","0.336","0.403","0.377","0.427","0.281","0.387","0.252","0.322","0.494","0.455","0.386","0.444","0.382","0.332","0.311","0.351","0.399","0.369","0.407","0.469","0.184","0.393","0.355","0.370","0.377","0.415"]},"columns":[{"id":"state","name":"state","type":"character"},{"id":"economics","name":"economics","type":"character"},{"id":"environment","name":"environment","type":"character"},{"id":"health","name":"health","type":"character"},{"id":"production","name":"production","type":"character"},{"id":"social","name":"social","type":"character"}],"resizable":true,"filterable":true,"searchable":true,"defaultPageSize":10,"showPageSizeOptions":true,"onClick":"select","highlight":true,"bordered":true,"striped":true,"compact":true,"style":{"fontSize":"14px"},"dataKey":"81a976f2a3b022dcd81c0d7ffc8a1d24"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="z-scores" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Z-Scores</h1>
<p>Z-scores are standardized values. We subtract the mean from every metric to center it at 0, then divide by the standard deviation to get units in terms of standard deviations. This should be more robust to outliers than the min-max method; extreme values have no effect on values. However, rescaling Z-scores to fit the spider plots might have a similar effect.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_vt_spiders</span>(dat, <span class="st">'zscore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="comparison_files/figure-html/zscore_spider-1.png" class="img-fluid figure-img" width="2000"></p>
</figure>
</div>
</div>
</div>
<p>The arithmetic plot is functionally identical to the min-max plots. The difference might be in the scaling of the spider plot itself - it shouldn’t make much of a difference whether scores are on a 0-1 scale or z-score scale. The geometric will have to get dropped or reworked here - geometric means of z-scores that includes negatives doesn’t make sense. We could try logarithmic means, or skipping the centering step so that all the z-scores stay positive. Either way, I don’t find the z-scores particularly convincing, and they are less approachable than min-maxing.</p>
<section id="arithmetic-table-1" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="arithmetic-table-1"><span class="header-section-number">2.1</span> Arithmetic Table</h2>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_reactable_scores</span>(dat, <span class="st">'zscore_arithmetic'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-6674ec036285894257a9" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6674ec036285894257a9">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"state":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","US_mean","US_median","NewEng"],"economics":["-0.280","0.217","-0.035","-0.188","1.093","-0.087","0.396","-0.176","0.685","0.059","-0.129","0.366","-0.371","0.249","-0.453","0.222","0.013","-0.322","-0.195","-0.025","-0.190","0.713","-0.449","0.075","-0.204","-0.152","0.064","0.171","0.376","-0.107","-0.008","-0.016","0.339","-0.433","0.179","-0.250","-0.245","0.059","-0.285","0.758","-0.353","0.214","-0.460","0.281","-0.375","-0.255","-0.289","0.214","-0.408","-0.208","0.200","0.000","-0.035","0.247"],"environment":["0.022","-0.268","-0.471","-0.114","0.869","-0.098","-0.121","-0.209","0.067","-0.106","0.113","0.020","0.185","0.202","0.197","0.097","0.047","-0.036","-0.082","-0.068","0.089","-0.077","0.133","0.221","-0.091","0.053","0.301","-0.169","-0.710","0.072","-0.206","-0.386","0.104","0.231","-0.781","-0.052","0.099","0.581","0.029","-0.126","-0.054","-0.375","0.049","0.342","-0.510","-0.040","0.232","0.713","-0.076","0.015","0.146","0.000","0.020","-0.060"],"health":["-0.260","0.204","-0.162","-0.270","0.285","0.594","0.196","-0.190","0.559","-0.247","0.050","0.247","-0.190","-0.165","-0.359","-0.289","-0.114","-0.369","-0.183","0.286","-0.053","0.420","0.034","0.123","-0.768","-0.218","0.282","-0.217","-0.267","0.314","0.256","-0.275","0.051","-0.057","-0.161","-0.152","-0.112","0.633","-0.076","0.169","-0.018","-0.411","-0.022","-0.209","0.264","0.828","0.182","0.373","-0.202","-0.102","-0.229","0.000","-0.076","0.369"],"production":["0.001","-0.589","0.086","0.133","2.201","-0.074","-0.471","-0.495","-0.178","0.794","0.538","-0.223","0.134","0.237","-0.286","-0.018","0.671","-0.250","0.203","-0.292","-0.336","-0.489","0.050","0.069","-0.151","0.046","0.263","0.166","-0.618","-0.868","0.171","-0.065","0.184","0.116","0.302","-0.195","0.081","0.375","0.101","-0.555","0.003","0.157","-0.180","1.729","-0.446","-0.796","-0.253","0.535","-1.000","0.010","-0.527","0.000","0.003","-0.579"],"social":["-0.095","0.410","0.271","-0.260","0.080","0.524","0.035","-0.359","0.697","0.201","-0.117","0.045","-0.187","-0.113","-0.736","-0.146","-0.504","-0.366","0.067","0.475","0.051","0.258","0.238","0.098","-0.182","-0.068","0.893","-0.189","-0.017","0.373","0.043","0.360","-0.358","0.004","-0.346","-0.116","-0.466","0.393","-0.123","-0.002","-0.002","-0.130","-0.264","-0.137","-0.512","0.126","0.082","0.438","-0.551","0.269","-0.085","0.000","-0.002","0.211"]},"columns":[{"id":"state","name":"state","type":"character"},{"id":"economics","name":"economics","type":"character"},{"id":"environment","name":"environment","type":"character"},{"id":"health","name":"health","type":"character"},{"id":"production","name":"production","type":"character"},{"id":"social","name":"social","type":"character"}],"resizable":true,"filterable":true,"searchable":true,"defaultPageSize":10,"showPageSizeOptions":true,"onClick":"select","highlight":true,"bordered":true,"striped":true,"compact":true,"style":{"fontSize":"14px"},"dataKey":"7b25711312457f576ef5fda44f1ae254"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="geometric-table-1" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="geometric-table-1"><span class="header-section-number">2.2</span> Geometric Table</h2>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_reactable_scores</span>(dat, <span class="st">'zscore_geometric'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-e660b0d21fa34cb8f554" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e660b0d21fa34cb8f554">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"state":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","US_mean","US_median","NewEng"],"economics":["0.822","0.883","0.842","0.692","1.141","0.591","0.866","0.921","0.808","0.745","0.704","1.010","0.679","0.679","0.906","1.070","0.738","0.842","0.945","0.904","0.766","1.104","0.580","0.690","0.522","0.751","1.004","1.040","0.945","0.903","0.679","0.678","0.731","0.796","0.863","0.836","0.687","0.705","0.650","1.258","0.759","1.070","0.849","0.513","0.660","0.950","0.793","0.832","0.885","0.565","1.069","0.822","0.822","0.998"],"environment":["0.798","0.610","0.981","0.646","0.923","0.780","0.873","0.725","0.648","0.936","0.636","0.640","0.667","0.775","0.546","0.777","0.836","0.582","0.804","0.915","0.656","0.698","0.549","0.784","0.654","0.544","1.201","0.722","0.880","0.891","0.492","0.858","0.592","0.379","0.906","0.688","0.673","0.766","0.826","0.764","0.471","0.758","0.670","1.025","0.768","0.678","0.537","0.900","0.693","0.618","0.916","0.738","0.725","0.803"],"health":["0.967","1.003","0.621","1.026","0.734","1.004","0.845","0.782","1.221","0.795","0.731","0.946","0.963","0.616","0.792","0.770","0.460","0.894","0.881","0.510","0.502","0.982","0.745","1.076","1.034","0.743","0.501","0.747","0.942","0.589","0.816","0.951","0.607","0.619","0.700","0.763","0.925","0.767","0.766","0.642","0.934","0.517","0.811","0.353","0.772","0.934","0.765","0.647","0.960","0.505","0.588","0.780","0.770","0.750"],"production":["0.878","0.976","0.819","0.776","1.869","0.721","1.016","1.000","0.468","1.072","0.318","0.461","0.946","1.312","0.830","0.949","0.806","0.708","0.685","0.331","0.580","1.007","0.494","0.890","1.035","0.646","1.004","0.992","1.000","1.032","0.909","1.070","0.659","0.603","0.796","0.799","0.640","0.956","0.273","1.045","0.754","0.631","0.984","1.380","0.344","0.931","0.993","0.666","1.000","0.711","1.000","0.838","0.878","0.894"],"social":["0.721","0.885","0.897","0.613","0.434","0.752","0.498","0.707","1.139","0.688","0.760","1.168","0.585","0.786","0.834","0.955","0.793","0.851","0.891","0.498","0.443","0.768","0.610","0.826","1.005","0.777","0.952","0.601","0.381","1.085","0.859","0.639","0.955","0.465","1.095","0.637","0.692","0.714","0.660","0.811","0.705","0.933","0.656","0.747","0.870","0.777","0.638","0.830","0.915","0.888","0.831","0.769","0.777","0.739"]},"columns":[{"id":"state","name":"state","type":"character"},{"id":"economics","name":"economics","type":"character"},{"id":"environment","name":"environment","type":"character"},{"id":"health","name":"health","type":"character"},{"id":"production","name":"production","type":"character"},{"id":"social","name":"social","type":"character"}],"resizable":true,"filterable":true,"searchable":true,"defaultPageSize":10,"showPageSizeOptions":true,"onClick":"select","highlight":true,"bordered":true,"striped":true,"compact":true,"style":{"fontSize":"14px"},"dataKey":"9b95ad987af410f1662c7875a9463c66"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="box-cox" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Box Cox</h1>
<p>The Box-Cox procedure explores a range of lambda values with which to transform a distribution, choosing the value that leads to the most “normal” distribution. It has been used on skewed sustainability indicators, sometimes before a min-max scaling procedure <span class="citation" data-cites="bene2019GlobalMapIndicators">(<a href="#ref-bene2019GlobalMapIndicators" role="doc-biblioref">Béné et al. 2019</a>)</span>. It should have the effect of smoothing out some of the outlying data. On the other hand, since this is a non-linear transformation, it will also fundamentally change the relationships between variables.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_vt_spiders</span>(dat, <span class="st">'boxcox'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="comparison_files/figure-html/boxcox_spider-1.png" class="img-fluid figure-img" width="2000"></p>
</figure>
</div>
</div>
</div>
<p>We can see that all values are less extreme - both the lows and highs and pulled toward the center. The underlying US averages are also quite well centered. However, interpreting correlations between metrics, indicators, indices, and dimensions will be harder here.</p>
<section id="arithmetic-table-2" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="arithmetic-table-2"><span class="header-section-number">3.1</span> Arithmetic Table</h2>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_reactable_scores</span>(dat, <span class="st">'boxcox_arithmetic'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-40df70d32f610d13af71" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-40df70d32f610d13af71">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"state":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","US_mean","US_median","NewEng"],"economics":["4.736","2.983","4.244","4.992","5.749","4.910","3.766","3.799","5.087","4.828","4.951","3.613","4.896","5.647","5.219","5.889","5.403","4.980","4.660","3.927","4.341","3.881","5.025","5.646","4.746","5.404","4.874","5.559","3.921","3.605","3.988","4.370","4.952","4.827","5.262","5.296","5.158","4.862","4.947","3.148","4.405","5.244","4.839","5.850","4.413","4.021","4.706","4.908","4.146","5.403","4.442","4.715","4.862","3.725"],"environment":["170.706","138.079","36.705","173.802","171.153","74.263","203.321","187.029","232.941","137.894","175.396","149.793","128.860","198.267","209.657","177.251","151.177","214.162","162.216","136.380","205.975","195.799","164.596","132.659","168.397","189.164","100.440","103.349","27.536","180.612","160.403","40.427","173.247","195.273","55.646","192.144","134.470","176.309","200.780","195.740","179.598","86.349","207.817","102.401","44.530","171.424","206.538","202.426","222.779","166.209","82.755","154.801","171.153","180.546"],"health":["121.844","133.790","123.741","135.094","159.730","190.620","170.897","139.770","187.325","127.094","162.655","181.381","134.660","136.456","118.736","141.032","142.139","114.283","118.203","152.331","169.441","175.403","145.328","164.441","97.492","122.584","159.992","142.664","115.114","162.310","179.593","93.429","156.755","133.154","159.667","119.613","108.182","177.423","152.761","152.278","137.651","121.837","132.184","143.478","174.974","203.812","181.116","165.432","134.515","145.104","120.838","145.889","142.664","169.505"],"production":["6.335","3.054","6.176","6.971","8.388","6.760","5.013","4.831","6.771","7.229","7.175","4.784","6.838","7.182","6.669","7.171","7.581","6.667","6.835","5.053","5.638","5.089","6.853","7.263","6.590","7.241","6.895","7.295","4.880","4.105","5.827","6.328","6.442","7.030","7.023","6.657","6.875","6.817","6.525","3.914","6.349","7.157","6.533","8.114","5.513","4.810","6.245","7.260","4.359","6.717","5.515","6.301","6.667","4.664"],"social":["107.101","106.573","81.215","137.565","109.276","137.564","121.908","64.139","142.841","104.597","103.871","118.521","195.175","164.828","150.591","127.257","112.301","124.795","104.195","183.412","129.502","126.995","172.090","127.389","87.081","161.991","208.665","135.768","78.879","155.846","135.049","92.244","177.664","89.198","110.288","156.045","104.482","134.775","166.703","128.158","76.536","145.556","144.210","99.434","157.201","133.391","85.154","117.272","121.805","189.183","155.293","129.443","127.389","141.618"]},"columns":[{"id":"state","name":"state","type":"character"},{"id":"economics","name":"economics","type":"character"},{"id":"environment","name":"environment","type":"character"},{"id":"health","name":"health","type":"character"},{"id":"production","name":"production","type":"character"},{"id":"social","name":"social","type":"character"}],"resizable":true,"filterable":true,"searchable":true,"defaultPageSize":10,"showPageSizeOptions":true,"onClick":"select","highlight":true,"bordered":true,"striped":true,"compact":true,"style":{"fontSize":"14px"},"dataKey":"7ca79ea9d73178997068016bf4182829"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="geometric-table-2" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="geometric-table-2"><span class="header-section-number">3.2</span> Geometric Table</h2>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_reactable_scores</span>(dat, <span class="st">'boxcox_geometric'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-2147aa132477d00c3ed9" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2147aa132477d00c3ed9">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"state":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","US_mean","US_median","NewEng"],"economics":["0.974","1.257","1.103","0.908","1.296","1.157","1.384","1.021","1.368","1.158","1.113","1.144","0.991","1.004","0.720","0.937","0.937","0.920","1.037","1.377","1.157","1.503","0.891","0.999","0.939","1.077","1.070","0.908","1.109","1.378","0.918","1.207","1.376","0.883","0.767","1.064","1.077","1.269","1.025","1.398","1.091","0.841","0.926","1.187","1.165","1.300","1.222","1.221","1.062","1.119","1.199","1.101","1.091","1.390"],"environment":["5.784","3.875","4.313","6.143","6.938","5.311","5.018","5.083","5.450","6.015","6.347","4.649","6.078","6.497","6.654","6.080","6.183","6.036","5.980","4.340","5.538","5.410","6.324","6.238","5.827","6.474","6.030","5.821","3.596","4.684","5.065","4.654","6.157","6.361","4.708","6.214","6.402","6.869","6.305","4.391","5.900","5.523","6.414","6.186","4.380","4.947","6.676","7.158","5.157","6.278","5.559","5.687","5.980","4.798"],"health":["2.129","2.513","2.391","2.248","2.712","2.919","2.670","2.384","2.764","2.416","2.471","2.502","2.438","2.545","2.250","2.352","2.453","2.154","2.340","2.647","2.530","2.837","2.481","2.657","1.949","2.377","2.724","2.500","2.246","2.676","2.732","2.264","2.596","2.525","2.478","2.392","2.426","2.869","2.503","2.618","2.405","2.338","2.353","2.416","2.690","2.922","2.596","2.798","2.066","2.478","2.323","2.491","2.478","2.728"],"production":["3.114","1.899","3.370","3.116","5.004","3.497","2.895","2.568","3.597","3.899","3.774","2.870","3.639","2.999","2.911","2.666","3.542","3.198","3.519","3.033","3.004","2.875","3.765","3.344","2.952","3.429","3.774","3.163","2.503","2.134","3.499","3.416","3.726","3.682","3.196","2.952","3.165","4.038","3.503","2.428","3.574","3.215","3.353","3.961","2.768","2.341","3.339","4.194","1.822","3.311","2.829","3.223","3.215","2.618"],"social":["0.753","0.810","0.741","0.754","0.748","0.804","0.753","0.684","0.815","0.756","0.740","0.714","0.744","0.762","0.703","0.739","0.697","0.741","0.778","0.807","0.772","0.775","0.814","0.761","0.722","0.773","0.854","0.741","0.740","0.769","0.753","0.769","0.747","0.752","0.723","0.779","0.711","0.786","0.779","0.753","0.744","0.754","0.744","0.735","0.687","0.754","0.747","0.784","0.707","0.805","0.743","0.755","0.753","0.769"]},"columns":[{"id":"state","name":"state","type":"character"},{"id":"economics","name":"economics","type":"character"},{"id":"environment","name":"environment","type":"character"},{"id":"health","name":"health","type":"character"},{"id":"production","name":"production","type":"character"},{"id":"social","name":"social","type":"character"}],"resizable":true,"filterable":true,"searchable":true,"defaultPageSize":10,"showPageSizeOptions":true,"onClick":"select","highlight":true,"bordered":true,"striped":true,"compact":true,"style":{"fontSize":"14px"},"dataKey":"b78b073876f148e1390854076ff0e983"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="references" class="level1" data-number="4">




</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">4 References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-bene2019GlobalMapIndicators" class="csl-entry" role="listitem">
Béné, Christophe, Steven D. Prager, Harold A. E. Achicanoy, Patricia Alvarez Toro, Lea Lamotte, Camila Bonilla, and Brendan R. Mapes. 2019. <span>“Global Map and Indicators of Food System Sustainability.”</span> <em>Scientific Data</em> 6 (1): 279. <a href="https://doi.org/10.1038/s41597-019-0301-5">https://doi.org/10.1038/s41597-019-0301-5</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../pages/indicator_distributions.html" class="pagination-link" aria-label="Indicator Distributions">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Indicator Distributions</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../pages/indicator_correlations.html" class="pagination-link" aria-label="Indicator Correlations">
        <span class="nav-page-text">Indicator Correlations</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>